<div class="container">
  <div class="row">
    <p></p>
    <p></p>
    <p></p>

    <div class="col-md-10 col-md-offset-1">
      <user-form (onShowModal)="onShowModal($event)" (onSaveUser)="onSaveUser($event)"></user-form>
      <div class="panel panel-default panel-table">
        <div class="panel-heading">
          <div class="row">
            <div class="col col-xs-6">
              <h3 class="panel-title">Users List</h3>
            </div>
            <div class="col col-xs-6 text-right">
              <button type="button" class="btn btn-sm btn-primary btn-create" data-toggle="modal" (click)="onShowModal(null)" data-target="#userModal">Create New User</button>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <div style="margin-bottom:10px">
            <form class="form-inline">
              <input [ngModel]="filterByName" (ngModelChange)="onFilterByNameChanged($event)" type="text" class="form-control mb-2 mr-sm-2 mb-sm-0"
                placeholder="Filter by name" [ngModelOptions]="{standalone: true}">
              <select class="form-control" [ngModel]="filterByGender" (ngModelChange)="onFilterByGenderChanged($event)" [ngModelOptions]="{standalone: true}">
                    <option value="" selected></option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>    
                  </select>
            </form>
          </div>
          <table class="table table-striped table-bordered table-list">
            <thead>
              <tr>
                <th>Name</th>
                <th>Phone</th>
                <th>Email</th>
                <th>Birth date</th>
                <th>Adress</th>
                <th>Info</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of users">
                <td>{{user.name}}</td>
                <td>{{user.phone}}</td>
                <td>{{user.email}}</td>
                <td><span *ngIf="user.birthDay && user.birthMonth && user.birthYear">{{user.birthDay}}-{{user.birthMonth}}-{{user.birthYear}}</span></td>
                <td>{{user.adress}}</td>
                <td align="center">
                  <a class="btn btn-default" data-toggle="modal" data-target="#userModal" (click)="onShowModal(user.id)"><em class="fa fa-user"></em></a>
                </td>
              </tr>
            </tbody>
          </table>

        </div>
        <div class="panel-footer">
          <div class="row">
            <pagination [totalItems]="totalItems" [(ngModel)]="currentPage" [itemsPerPage]="10" (pageChanged)="pageChanged($event)"></pagination>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
